@model TechnicalTest.Models.SaveModel
@using TechnicalTest.Controllers
@{
    ViewBag.Title = "Index";
}
@*<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
<script src="https://unpkg.com/gijgo@1.9.14/js/gijgo.min.js" type="text/javascript"></script>
<link href="https://unpkg.com/gijgo@1.9.14/css/gijgo.min.css" rel="stylesheet" type="text/css" />*@

@if (ViewBag.status == 1) 
{
    <div class="alert alert-success">
        @ViewBag.statusMessage
    </div>
}

@if (ViewBag.status == 2)
{
    <div class="alert alert-danger">
        @ViewBag.statusMessage
    </div>
}


<div class="card mt-3">
    <div class="card-body">
        @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "FormInput" }))
        {
            <div class="row mb-2">
                <input style="display:none" name="isUpdate" value="@Model.isUpdate" />
                <label class="col-sm-2 col-form-label">Agreement Number</label>
                <div class="col-sm-3">
                    <input class="form-control" name="AgreementNumber" value="@Model.AgreementNumber" autocomplete="off" placeholder="Input Agreement Number" />
                    <small>@Html.ValidationMessageFor(model => model.AgreementNumber, "", new { @class = "text-danger" })</small>
                </div>
            </div>
            <div class="row mb-2">
                <label class="col-sm-2 col-form-label">Branch ID</label>
                <div class="col-sm-3">
                    <input class="form-control" name="BranchID" value="@Model.BranchID" autocomplete="off" placeholder="Input Branch ID" />
                    <small>@Html.ValidationMessageFor(model => model.BranchID, "", new { @class = "text-danger" })</small>
                </div>
            </div>

            <div class="row mb-2">
                <label class="col-sm-2 col-form-label">No. BPKB</label>
                <div class="col-sm-3">
                    <input class="form-control" name="BpkbNo" value="@Model.BpkbNo" autocomplete="off" placeholder="Input No. BPKB" />
                    <small>@Html.ValidationMessageFor(model => model.BpkbNo, "", new { @class = "text-danger" })</small>
                </div>
            </div>

            <div class="row mb-2">
                <label class="col-sm-2 col-form-label">Tanggal BPKB IN</label>
                <div class="col-sm-3">
                    <input id="bpkbdatein" class="form-control" name="BpkbDateIN" value="@Model.BpkbDateIN" autocomplete="off" placeholder="mm/dd/yyyy" />
                    <small>@Html.ValidationMessageFor(model => model.BpkbDateIN, "", new { @class = "text-danger" })</small>
                </div>
            </div>
            <div class="row mb-2">
                <label class="col-sm-2 col-form-label">Tanggal BPKB</label>
                <div class="col-sm-3">
                    <input id="bpkbdate" class="form-control" name="BpkbDate" value="@Model.BpkbDate" autocomplete="off" placeholder="mm/dd/yyyy" />
                    <small>@Html.ValidationMessageFor(model => model.BpkbDate, "", new { @class = "text-danger" })</small>
                </div>
            </div>

            <div class="row mb-2">
                <label class="col-sm-2 col-form-label">No. Faktur</label>
                <div class="col-sm-3">
                    <input class="form-control" name="FakturNo" value="@Model.FakturNo" autocomplete="off" placeholder="Input No. Faktur" />
                    <small>@Html.ValidationMessageFor(model => model.FakturNo, "", new { @class = "text-danger" })</small>
                </div>
            </div>

            <div class="row mb-2">
                <label class="col-sm-2 col-form-label">Tanggal Faktur</label>
                <div class="col-sm-3">
                    <input id="fakturdate" class="form-control" name="FakturDate" value="@Model.FakturDate" autocomplete="off" placeholder="mm/dd/yyyy" />
                    <small>@Html.ValidationMessageFor(model => model.FakturDate, "", new { @class = "text-danger" })</small>
                </div>
            </div>

            <div class="row mb-2">
                <label class="col-sm-2 col-form-label">No. Polisi</label>
                <div class="col-sm-3">
                    <input id="fakturdate" class="form-control" name="PoliceNo" value="@Model.PoliceNo" autocomplete="off" placeholder="Input No. Polisi" />
                    <small>@Html.ValidationMessageFor(model => model.PoliceNo, "", new { @class = "text-danger" })</small>
                </div>
            </div>

            <div class="row mb-2">
                <label class="col-sm-2 col-form-label">Lokasi Penyimpanan</label>
                <div class="col-sm-3">
                    <select class="form-control" id="selectlocation" name="LocationID">
                        @{
            foreach (var loc in Model.ListLocation)
            {
                if (loc.location_id == Model.LocationID)
                {
                    <option value="@loc.location_id" selected>@loc.location_name</option>
                }
                else
                {
                    <option value="@loc.location_id">@loc.location_name</option>
                }
            }
                        }
                    </select>
                    <small>@Html.ValidationMessageFor(model => model.LocationID, "", new { @class = "text-danger" })</small>
                </div>
            </div>
        }
     
    </div>

    <div class="card-footer">
        <button class="btn btn-primary" id="btnsave">Simpan</button>
        @*<button class="btn btn-danger" id="btnlogout">Logout</button>*@
    </div>
</div>

<script type="text/javascript">
    $(function () {

        $('#bpkbdatein').datepicker({
            uiLibrary: 'bootstrap5'
        });
        $('#bpkbdate').datepicker({
            uiLibrary: 'bootstrap5'
        });
        $('#fakturdate').datepicker({
            uiLibrary: 'bootstrap5'
        });

        $("#btnsave").click(function ()
        {
            $("#FormInput").submit();
        })

        $("#btnlogout").click(function () {
           
            window.location = "@Url.Action(HomeController.ACT_out, HomeController.NAME)";
            alert(window.location);
        })
    })
</script>
